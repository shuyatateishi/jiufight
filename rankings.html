<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🏆 ランキング - Super Yawara Cup 2025 | 階級別選手ランキング</title>
    <meta name="description" content="Super Yawara Cup 2025の階級別選手ランキング。ルースター級からミディアムヘビー級まで、各階級のトップランカーを紹介。">
    <meta name="keywords" content="柔術ランキング,階級別ランキング,BJJランキング,ルースター級,フェザー級,ライト級,ミドル級">
    
    <!-- OGP Meta Tags -->
    <meta property="og:title" content="🏆 ランキング - Super Yawara Cup 2025">
    <meta property="og:description" content="階級別選手ランキング公開中！各階級のトップランカーと注目選手をチェック">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://jiufight.com/rankings.html">
    <meta property="og:site_name" content="Jiufight">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="🏆 ランキング - Super Yawara Cup 2025">
    <meta name="twitter:description" content="階級別選手ランキング発表！各階級のトップファイターは誰？">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🥋</text></svg>">
    
    <link rel="stylesheet" href="styles-v2.css">
    <link rel="stylesheet" href="rankings-v2.css">
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="nav-container">
                <h1 class="logo">Super Yawara Cup 2025</h1>
                <button class="mobile-menu-toggle" aria-label="メニュー">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <ul class="nav-menu">
                    <li><a href="index.html">ホーム</a></li>
                    <li><a href="tournament.html">大会情報</a></li>
                    <li><a href="announcements.html">アナウンス</a></li>
                    <li><a href="fighters.html">選手一覧</a></li>
                    <li><a href="rankings.html" class="active">ランキング</a></li>
                    <li><a href="admin.html">管理者</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <main>
        <section class="rankings-section">
            <div class="container">
                <a href="index.html" class="back-link">← ホームに戻る</a>
                <h2 class="section-title">Super Yawara Cup ランキング</h2>
                
                <!-- Weight Class Rankings Grid -->
                <div class="weight-class-rankings">
                    <!-- ミディアムヘビー級 -->
                    <div class="weight-class-card">
                        <h3 class="weight-class-title">ミディアムヘビー級</h3>
                        <ol class="ranking-list">
                            <li><span class="rank-number">1</span><span class="fighter-name clickable" onclick="showFighterProfile('三木 善靖')">三木 善靖</span><span class="belt-badge purple">紫</span></li>
                            <li><span class="rank-number">2</span><span class="fighter-name clickable" onclick="showFighterProfile('佐藤 篤史')">佐藤 篤史</span><span class="belt-badge blue">青</span></li>
                            <li><span class="rank-number">3</span><span class="fighter-name clickable" onclick="showFighterProfile('宮本 博之')">宮本 博之</span><span class="belt-badge blue">青</span></li>
                        </ol>
                    </div>

                    <!-- ミドル級 -->
                    <div class="weight-class-card">
                        <h3 class="weight-class-title">ミドル級</h3>
                        <ol class="ranking-list">
                            <li><span class="rank-number">1</span><span class="fighter-name clickable" onclick="showFighterProfile('Hideki Da Silva')">Hideki Da Silva</span><span class="belt-badge brown">茶</span></li>
                            <li><span class="rank-number">2</span><span class="fighter-name clickable" onclick="showFighterProfile('サコ')">サコ</span><span class="belt-badge blue">青</span></li>
                            <li><span class="rank-number">3</span><span class="fighter-name clickable" onclick="showFighterProfile('岩月 穂波')">岩月 穂波</span><span class="belt-badge white">白</span></li>
                            <li><span class="rank-number">4</span><span class="fighter-name clickable" onclick="showFighterProfile('中路 拓也')">中路 拓也</span><span class="belt-badge white">白</span></li>
                            <li><span class="rank-number">5</span><span class="fighter-name clickable" onclick="showFighterProfile('井柳 俊紀')">井柳 俊紀</span><span class="belt-badge white">白</span></li>
                        </ol>
                    </div>

                    <!-- ライト級 -->
                    <div class="weight-class-card">
                        <h3 class="weight-class-title">ライト級（第2回大会出場者）</h3>
                        <ol class="ranking-list">
                            <li><span class="rank-number">1</span><span class="fighter-name clickable" onclick="showFighterProfile('巨人なるガラ')">巨人なるガラ</span><span class="belt-badge blue">青</span></li>
                            <li><span class="rank-number">2</span><span class="fighter-name clickable" onclick="showFighterProfile('ドクターオーパスワンやなちゃん')">ドクターオーパスワンやなちゃん</span><span class="belt-badge blue">青</span></li>
                            <li><span class="rank-number">3</span><span class="fighter-name clickable" onclick="showFighterProfile('Yawaraのヤングボーイぬっきー')">Yawaraのヤングボーイぬっきー</span><span class="belt-badge blue">青</span></li>
                            <li><span class="rank-number">4</span><span class="fighter-name clickable" onclick="showFighterProfile('HONDAの開発番長コウシ')">HONDAの開発番長コウシ</span><span class="belt-badge blue">青</span></li>
                            <li><span class="rank-number">5</span><span class="fighter-name clickable" onclick="showFighterProfile('華麗なる新人鈴木')">華麗なる新人鈴木</span><span class="belt-badge white">白</span></li>
                        </ol>
                        <a href="fighters.html?weight=light" class="more-fighters">続きを見る</a>
                    </div>

                    <!-- フェザー級 -->
                    <div class="weight-class-card">
                        <h3 class="weight-class-title">フェザー級</h3>
                        <ol class="ranking-list">
                            <li><span class="rank-number">1</span><span class="fighter-name clickable" onclick="showFighterProfile('Leander De Souza')">Leander De Souza</span><span class="belt-badge purple">紫</span></li>
                            <li><span class="rank-number">2</span><span class="fighter-name clickable" onclick="showFighterProfile('河野 裕也')">河野 裕也</span><span class="belt-badge purple">紫</span></li>
                            <li><span class="rank-number">3</span><span class="fighter-name clickable" onclick="showFighterProfile('中西 亮介')">中西 亮介</span><span class="belt-badge blue">青</span></li>
                            <li><span class="rank-number">4</span><span class="fighter-name clickable" onclick="showFighterProfile('秋山 紳右衛門')">秋山 紳右衛門</span><span class="belt-badge blue">青</span></li>
                            <li><span class="rank-number">5</span><span class="fighter-name clickable" onclick="showFighterProfile('武田 好史')">武田 好史</span><span class="belt-badge white">白</span></li>
                        </ol>
                        <a href="fighters.html?weight=feather" class="more-fighters">続きを見る (2人)</a>
                    </div>

                    <!-- ライトフェザー級 -->
                    <div class="weight-class-card">
                        <h3 class="weight-class-title">ライトフェザー級</h3>
                        <ol class="ranking-list">
                            <li><span class="rank-number">1</span><span class="fighter-name clickable" onclick="showFighterProfile('野島 繁昭')">野島 繁昭</span><span class="belt-badge purple">紫</span></li>
                            <li><span class="rank-number">2</span><span class="fighter-name clickable" onclick="showFighterProfile('渡辺 晋')">渡辺 晋</span><span class="belt-badge blue">青</span></li>
                            <li><span class="rank-number">3</span><span class="fighter-name clickable" onclick="showFighterProfile('西尾 健斗')">西尾 健斗</span><span class="belt-badge blue">青</span></li>
                            <li><span class="rank-number">4</span><span class="fighter-name clickable" onclick="showFighterProfile('シンヤ')">シンヤ</span><span class="belt-badge purple">紫</span></li>
                            <li><span class="rank-number">5</span><span class="fighter-name clickable" onclick="showFighterProfile('公文 卓馬')">公文 卓馬</span><span class="belt-badge purple">紫</span></li>
                        </ol>
                        <a href="fighters.html?weight=light-feather" class="more-fighters">続きを見る (6人)</a>
                    </div>

                    <!-- ルースター級 -->
                    <div class="weight-class-card">
                        <h3 class="weight-class-title">ルースター級</h3>
                        <ol class="ranking-list">
                            <li><span class="rank-number">1</span><span class="fighter-name clickable" onclick="showFighterProfile('永塚 和寛')">永塚 和寛</span><span class="belt-badge blue">青</span></li>
                            <li><span class="rank-number">2</span><span class="fighter-name clickable" onclick="showFighterProfile('綿貫 智也')">綿貫 智也</span><span class="belt-badge white">白</span></li>
                            <li><span class="rank-number">3</span><span class="fighter-name clickable" onclick="showFighterProfile('小野 太暉')">小野 太暉</span><span class="belt-badge white">白</span></li>
                            <li><span class="rank-number">4</span><span class="fighter-name clickable" onclick="showFighterProfile('馬場 祐次')">馬場 祐次</span><span class="belt-badge white">白</span></li>
                            <li><span class="rank-number">5</span><span class="fighter-name clickable" onclick="showFighterProfile('松下 ともゆき')">松下 ともゆき</span><span class="belt-badge white">白</span></li>
                        </ol>
                    </div>
                </div>

                <div class="ranking-note">
                    <p>※ランキングは大会結果をもとに定期的に更新されます</p>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-brand">
                <h3>Super Yawara Cup</h3>
                <p>日本国内外のブラジリアン柔術選手のランキングと選手情報を提供しています。</p>
            </div>
            <div class="footer-links">
                <h4>リンク</h4>
                <ul>
                    <li><a href="index.html">ホーム</a></li>
                    <li><a href="tournament.html">大会情報</a></li>
                </ul>
            </div>
            <div class="footer-contact">
                <h4>お問い合わせ</h4>
                <p>ご質問やフィードバックは下記までお願いします。</p>
                <p><a href="mailto:info@jiufight.com">info@jiufight.com</a></p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Super Yawara Cup | jiufight.com</p>
        </div>
    </footer>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
    
    <!-- Firebase Configuration -->
    <script src="firebase-config.js"></script>
    
    <!-- Database Sync System -->
    <script src="database-sync.js"></script>
    
    <script src="script.js"></script>
    <script>
        // Initialize fighters data for ranking page
        let fightersData = [];
        
        // Load fighters data (simplified version for rankings page)
        function loadFightersData() {
            fightersData = [
                // ミディアムヘビー級
                { id: 1, name: '三木 善靖', nickname: '', belt: 'purple', weight: 'medium-heavy', dojo: 'FHR', wins: 0, losses: 0, bio: 'ミディアムヘビー級1位の紫帯ファイター。', achievements: '-', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_10.jpg' },
                { id: 2, name: '佐藤 篤史', nickname: '', belt: 'blue', weight: 'medium-heavy', dojo: 'FHR', wins: 0, losses: 0, bio: 'ミディアムヘビー級2位の青帯ファイター。', achievements: '-', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_10.jpg' },
                { id: 3, name: '宮本 博之', nickname: 'いにしえのドリーマー宮本', belt: 'blue', weight: 'medium-heavy', dojo: 'YAWARA柔術アカデミー', wins: 0, losses: 0, bio: 'ミディアムヘビー級3位。ニックネームの通り、夢を追い続けるファイター。', achievements: '-', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_5.jpg' },
                
                // ミドル級  
                { id: 4, name: 'Hideki Da Silva', nickname: 'Hi', belt: 'brown', weight: 'middle', dojo: 'FHR', wins: 0, losses: 0, bio: 'ミドル級1位のFHR所属茶帯ファイター。', achievements: '-', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_8.jpg' },
                { id: 5, name: 'サコ', nickname: '', belt: 'blue', weight: 'middle', dojo: 'YAWARA柔術アカデミー', wins: 0, losses: 0, bio: 'ミドル級2位の青帯ファイター。', achievements: '-', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_7.jpg' },
                { id: 6, name: '岩月 穂波', nickname: '', belt: 'white', weight: 'middle', dojo: 'YAWARA柔術アカデミー', wins: 0, losses: 0, bio: 'ミドル級3位の白帯ファイター。', achievements: '-', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_9.jpg' },
                { id: 7, name: '中路 拓也', nickname: '', belt: 'white', weight: 'middle', dojo: 'YAWARA柔術アカデミー', wins: 0, losses: 0, bio: 'ミドル級4位の白帯ファイター。', achievements: '-', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_9.jpg' },
                { id: 8, name: '井柳 俊紀', nickname: '', belt: 'white', weight: 'middle', dojo: 'YAWARA柔術アカデミー', wins: 0, losses: 0, bio: 'ミドル級5位の白帯ファイター。', achievements: '-', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_7.jpg' },
                
                // ライト級（第2回大会出場者）
                { id: 101, name: '巨人なるガラ', nickname: '巨人なるガラ', belt: 'blue', weight: 'light', dojo: 'YAWARA柔術アカデミー', wins: 0, losses: 0, bio: 'Super Yawara Cup 個人戦出場者。', achievements: '-', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_2.jpg' },
                { id: 102, name: 'ドクターオーパスワンやなちゃん', nickname: 'ドクターオーパスワンやなちゃん', belt: 'blue', weight: 'light', dojo: 'YAWARA柔術アカデミー', wins: 0, losses: 0, bio: 'Super Yawara Cup 個人戦出場者。', achievements: '-', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_2.jpg' },
                { id: 103, name: 'Yawaraのヤングボーイぬっきー', nickname: 'Yawaraのヤングボーイぬっきー', belt: 'blue', weight: 'light', dojo: 'YAWARA柔術アカデミー', wins: 0, losses: 0, bio: 'Super Yawara Cup 個人戦出場者。', achievements: '-', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_1.jpg' },
                { id: 105, name: 'HONDAの開発番長コウシ', nickname: 'HONDAの開発番長コウシ', belt: 'blue', weight: 'light', dojo: 'YAWARA柔術アカデミー', wins: 0, losses: 0, bio: 'Super Yawara Cup 個人戦出場者。ホンダで開発業務に従事。', achievements: '-', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_3.jpg' },
                { id: 106, name: '華麗なる新人鈴木', nickname: '華麗なる新人鈴木', belt: 'white', weight: 'light', dojo: 'YAWARA柔術アカデミー', wins: 0, losses: 0, bio: 'Super Yawara Cup 個人戦出場者。華麗な技で魅せる新人ファイター。', achievements: '-', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_3.jpg' },
                { id: 107, name: '体幹お兄さん直人', nickname: '体幹お兄さん直人', belt: 'blue', weight: 'light', dojo: 'YAWARA柔術アカデミー', wins: 0, losses: 0, bio: 'Super Yawara Cup 個人戦出場者。体幹トレーニングのエキスパート。', achievements: '-', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_4.jpg' },
                { id: 108, name: 'インテリジェンステイクダウンリュウヒ', nickname: 'インテリジェンステイクダウンリュウヒ', belt: 'blue', weight: 'light', dojo: 'YAWARA柔術アカデミー', wins: 0, losses: 0, bio: 'Super Yawara Cup 個人戦出場者。知的なテイクダウンが得意。', achievements: '-', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_4.jpg' },
                { id: 109, name: '練習２ポケ本番キングスタッキー', nickname: '練習２ポケ本番キングスタッキー', belt: 'white', weight: 'light', dojo: 'YAWARA柔術アカデミー', wins: 0, losses: 0, bio: 'Super Yawara Cup 個人戦出場者。本番で力を発揮するタイプ。', achievements: '-', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_5.jpg' },
                
                // ライト級上位選手
                { id: 9, name: '松木 フェルナンド', nickname: '', belt: 'black', weight: 'light', dojo: 'FHR', wins: 0, losses: 0, bio: 'ライト級1位の黒帯チャンピオン。⭐️マーク付きの実力者。', achievements: '⭐️チャンピオン', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_10.jpg' },
                { id: 10, name: '原田 大樹', nickname: '', belt: 'black', weight: 'light', dojo: 'FHR', wins: 0, losses: 0, bio: 'ライト級2位のFHR所属黒帯ファイター。', achievements: '-', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_10.jpg' },
                { id: 11, name: '田邊 大吾', nickname: '', belt: 'blue', weight: 'light', dojo: 'YAWARA柔術アカデミー', wins: 0, losses: 0, bio: 'ライト級3位の青帯ファイター。', achievements: '-', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_11.jpg' },
                { id: 12, name: 'kentaroh Awata', nickname: '', belt: 'blue', weight: 'light', dojo: 'YAWARA柔術アカデミー', wins: 0, losses: 0, bio: 'ライト級4位の青帯ファイター。', achievements: '-', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_12.jpg' },
                { id: 13, name: '岡島 悠裕', nickname: 'スマイリー岡島', belt: 'blue', weight: 'light', dojo: 'YAWARA柔術アカデミー', wins: 0, losses: 0, bio: 'ライト級5位。いつも笑顔のスマイリー岡島。', achievements: '-', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_6.jpg' },
                
                // フェザー級
                { id: 19, name: 'Leander De Souza', nickname: 'Le', belt: 'purple', weight: 'feather', dojo: 'FHR', wins: 0, losses: 0, bio: 'フェザー級1位のFHR所属紫帯ファイター。', achievements: '-', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_14.jpg' },
                { id: 20, name: '河野 裕也', nickname: '', belt: 'purple', weight: 'feather', dojo: 'YAWARA柔術アカデミー', wins: 0, losses: 0, bio: 'フェザー級2位の紫帯ファイター。', achievements: '-', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_15.jpg' },
                { id: 21, name: '中西 亮介', nickname: '', belt: 'blue', weight: 'feather', dojo: 'YAWARA柔術アカデミー', wins: 0, losses: 0, bio: 'フェザー級3位の青帯ファイター。', achievements: '-', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_18.jpg' },
                { id: 22, name: '秋山 紳右衛門', nickname: '', belt: 'blue', weight: 'feather', dojo: 'YAWARA柔術アカデミー', wins: 0, losses: 0, bio: 'フェザー級4位の青帯ファイター。', achievements: '-', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_18.jpg' },
                { id: 23, name: '武田 好史', nickname: '', belt: 'white', weight: 'feather', dojo: 'YAWARA柔術アカデミー', wins: 0, losses: 0, bio: 'フェザー級5位の白帯ファイター。', achievements: '-', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_18.jpg' },
                
                // ライトフェザー級
                { id: 26, name: '野島 繁昭', nickname: '', belt: 'purple', weight: 'light-feather', dojo: 'YAWARA柔術アカデミー', wins: 0, losses: 0, bio: 'ライトフェザー級1位の紫帯ファイター。', achievements: '-', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_16.jpg' },
                { id: 27, name: '渡辺 晋', nickname: '', belt: 'blue', weight: 'light-feather', dojo: 'YAWARA柔術アカデミー', wins: 0, losses: 0, bio: 'ライトフェザー級2位の青帯ファイター。', achievements: '-', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_17.jpg' },
                { id: 28, name: '西尾 健斗', nickname: '', belt: 'blue', weight: 'light-feather', dojo: 'YAWARA柔術アカデミー', wins: 0, losses: 0, bio: 'ライトフェザー級3位の青帯ファイター。', achievements: '-', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_21.jpg' },
                { id: 29, name: 'シンヤ', nickname: '', belt: 'purple', weight: 'light-feather', dojo: 'FHR', wins: 0, losses: 0, bio: 'ライトフェザー級4位のFHR所属紫帯ファイター。', achievements: '-', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_8.jpg' },
                { id: 30, name: '公文 卓馬', nickname: '', belt: 'purple', weight: 'light-feather', dojo: 'YAWARA柔術アカデミー', wins: 0, losses: 0, bio: 'ライトフェザー級5位の紫帯ファイター。', achievements: '-', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_19.jpg' },
                
                // ルースター級
                { id: 37, name: '永塚 和寛', nickname: '永塚', belt: 'blue', weight: 'rooster', dojo: 'YAWARA柔術アカデミー', wins: 0, losses: 0, bio: 'ルースター級1位の青帯ファイター。', achievements: '-', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_13.jpg' },
                { id: 38, name: '綿貫 智也', nickname: '綿貫', belt: 'white', weight: 'rooster', dojo: 'YAWARA柔術アカデミー', wins: 0, losses: 0, bio: 'ルースター級2位の白帯ファイター。', achievements: '-', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_12.jpg' },
                { id: 39, name: '小野 太暉', nickname: '', belt: 'white', weight: 'rooster', dojo: 'YAWARA柔術アカデミー', wins: 0, losses: 0, bio: 'ルースター級3位の白帯ファイター。', achievements: '-', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_14.jpg' },
                { id: 40, name: '馬場 祐次', nickname: '焼肉古今の司令塔ばばちゃん', belt: 'white', weight: 'rooster', dojo: 'YAWARA柔術アカデミー', wins: 0, losses: 0, bio: 'ルースター級4位。焼肉店「古今」を経営する柔術家。', achievements: '-', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_1.jpg' },
                { id: 41, name: '松下 ともゆき', nickname: '松下', belt: 'white', weight: 'rooster', dojo: 'YAWARA柔術アカデミー', wins: 0, losses: 0, bio: 'ルースター級5位の白帯ファイター。', achievements: '-', style: '-', image: 'images/fighters/LINE_ALBUM_対戦カード_250606_15.jpg' }
            ];
            
            // Load saved data from localStorage
            const savedData = localStorage.getItem('fightersData');
            if (savedData) {
                const parsedData = JSON.parse(savedData);
                parsedData.forEach(savedFighter => {
                    const defaultFighter = fightersData.find(f => f.id === savedFighter.id);
                    if (defaultFighter) {
                        Object.assign(defaultFighter, savedFighter);
                    }
                });
            }
        }
        
        // Fighter profile modal functionality
        function showFighterProfile(fighterName) {
            console.log('Trying to show fighter profile for:', fighterName);
            console.log('Available fighters:', fightersData.map(f => f.name));
            
            // Find fighter by name or nickname
            const fighter = fightersData.find(f => 
                f.name === fighterName || 
                f.nickname === fighterName ||
                (f.nickname && f.nickname.includes(fighterName)) ||
                fighterName.includes(f.name)
            );
            
            if (!fighter) {
                console.log('Fighter not found:', fighterName);
                alert('選手が見つかりませんでした: ' + fighterName);
                return;
            }
            
            console.log('Found fighter:', fighter);
            showFighterProfileById(fighter.id);
        }
        
        function showFighterProfileById(fighterId) {
            const fighter = fightersData.find(f => f.id === fighterId);
            if (!fighter) return;
            
            const profileHtml = `
                <div class="fighter-profile">
                    <div class="profile-image">
                        ${fighter.image ? 
                            `<img src="${fighter.image}" alt="${fighter.name}" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;">` : 
                            (fighter.nickname || fighter.name).charAt(0)
                        }
                    </div>
                    <h2 class="profile-name">${fighter.nickname || fighter.name}</h2>
                    ${fighter.nickname ? `<p class="profile-real-name">${fighter.name}</p>` : ''}
                    <div class="profile-details">
                        <span class="fighter-belt belt-${fighter.belt}">${getBeltName(fighter.belt)}</span>
                        <span> | ${getWeightClassName(fighter.weight)}級</span>
                    </div>
                    
                    <div class="profile-info">
                        <div class="info-item">
                            <strong>本名:</strong> <span>${fighter.fullName || fighter.name}</span>
                        </div>
                        <div class="info-item">
                            <strong>リングネーム:</strong> <span>${fighter.nickname || '未設定'}</span>
                        </div>
                        <div class="info-item">
                            <strong>年齢:</strong> <span>${fighter.age || '未公開'}</span>
                        </div>
                        <div class="info-item">
                            <strong>職業:</strong> <span>${fighter.occupation || '未公開'}</span>
                        </div>
                        <div class="info-item">
                            <strong>出身地/居住地:</strong> <span>${fighter.location || '未公開'}</span>
                        </div>
                        <div class="info-item">
                            <strong>柔術歴:</strong> <span>${fighter.experience || '未公開'}</span>
                        </div>
                        <div class="info-item">
                            <strong>得意技:</strong> <span>${fighter.specialty || '未公開'}</span>
                        </div>
                        <div class="info-item">
                            <strong>自分の特徴:</strong> <span>${fighter.characteristic || '未公開'}</span>
                        </div>
                        <div class="info-item">
                            <strong>意気込み:</strong> <span>${fighter.motivation || '未公開'}</span>
                        </div>
                    </div>
                    
                    <button class="edit-btn" onclick="showEditForm(${fighter.id})">プロフィールを編集</button>
                </div>
            `;
            
            document.getElementById('fighter-profile').innerHTML = profileHtml;
            const modal = document.getElementById('fighter-modal');
            modal.style.display = 'flex';
            modal.classList.add('show');
        }
        
        // Show edit form
        function showEditForm(fighterId) {
            const fighter = fightersData.find(f => f.id === fighterId);
            if (!fighter) return;
            
            const fighterModal = document.getElementById('fighter-modal');
            fighterModal.style.display = 'none';
            fighterModal.classList.remove('show');
            
            const editModal = document.getElementById('edit-modal');
            editModal.style.display = 'flex';
            editModal.classList.add('show');
            
            // Populate form
            document.getElementById('edit-fighter-id').value = fighter.id;
            document.getElementById('edit-full-name').value = fighter.fullName || fighter.name;
            document.getElementById('edit-nickname').value = fighter.nickname || '';
            document.getElementById('edit-age').value = fighter.age || '';
            document.getElementById('edit-occupation').value = fighter.occupation || '';
            document.getElementById('edit-location').value = fighter.location || '';
            document.getElementById('edit-experience').value = fighter.experience || '';
            document.getElementById('edit-specialty').value = fighter.specialty || '';
            document.getElementById('edit-characteristic').value = fighter.characteristic || '';
            document.getElementById('edit-motivation').value = fighter.motivation || '';
        }
        
        // Handle edit form submission
        function handleEditSubmit(e) {
            e.preventDefault();
            
            const fighterId = parseInt(document.getElementById('edit-fighter-id').value);
            const fighter = fightersData.find(f => f.id === fighterId);
            
            if (!fighter) return;
            
            // Update fighter data
            fighter.fullName = document.getElementById('edit-full-name').value;
            fighter.nickname = document.getElementById('edit-nickname').value;
            fighter.age = document.getElementById('edit-age').value;
            fighter.occupation = document.getElementById('edit-occupation').value;
            fighter.location = document.getElementById('edit-location').value;
            fighter.experience = document.getElementById('edit-experience').value;
            fighter.specialty = document.getElementById('edit-specialty').value;
            fighter.characteristic = document.getElementById('edit-characteristic').value;
            fighter.motivation = document.getElementById('edit-motivation').value;
            
            // Save to localStorage with real-time sync
            if (window.databaseSync) {
                window.databaseSync.updateFighters(fightersData);
            } else {
                localStorage.setItem('fightersData', JSON.stringify(fightersData));
            }
            
            // Close modal and show success
            const editModal = document.getElementById('edit-modal');
            editModal.style.display = 'none';
            editModal.classList.remove('show');
            alert('プロフィールが更新されました！');
            
            // Show updated profile
            showFighterProfileById(fighterId);
        }
        
        // Helper functions
        function getBeltName(belt) {
            const beltNames = {
                white: '白帯',
                blue: '青帯',
                purple: '紫帯',
                brown: '茶帯',
                black: '黒帯'
            };
            return beltNames[belt] || belt;
        }
        
        function getWeightClassName(weight) {
            const weightClassNames = {
                'rooster': 'ルースター',
                'light-feather': 'ライトフェザー',
                'feather': 'フェザー',
                'light': 'ライト',
                'middle': 'ミドル',
                'medium-heavy': 'ミディアムヘビー'
            };
            return weightClassNames[weight] || weight;
        }
        
        // Initialize modal event listeners
        document.addEventListener('DOMContentLoaded', () => {
            console.log('DOM loaded, initializing...');
            loadFightersData();
            console.log('Fighters data loaded:', fightersData.length, 'fighters');
            
            // Initialize real-time sync for fighters
            setTimeout(() => {
                if (window.databaseSync) {
                    console.log('✅ Database sync available on rankings page');
                    const status = window.databaseSync.getSyncStatus();
                    console.log('📊 Rankings page sync status:', status);
                    
                    window.databaseSync.onFighterUpdate((updatedFightersData) => {
                        console.log(`🔄 Rankings received fighter update: ${updatedFightersData.length} fighters`);
                        fightersData = updatedFightersData;
                        console.log('Fighters data updated via real-time sync:', fightersData.length, 'fighters');
                    });
                } else {
                    console.log('❌ Database sync not available on rankings page');
                }
            }, 1000);
            
            // Modal close buttons
            document.querySelectorAll('.close').forEach(btn => {
                btn.addEventListener('click', function() {
                    const modal = this.closest('.modal');
                    modal.style.display = 'none';
                    modal.classList.remove('show');
                });
            });
            
            // Close modal on outside click
            window.addEventListener('click', (e) => {
                if (e.target.classList.contains('modal')) {
                    e.target.style.display = 'none';
                    e.target.classList.remove('show');
                }
            });
            
            // Edit form submit
            const editForm = document.getElementById('edit-form');
            if (editForm) {
                editForm.addEventListener('submit', handleEditSubmit);
            }
            
            // Cancel button
            const cancelBtn = document.querySelector('.cancel-btn');
            if (cancelBtn) {
                cancelBtn.addEventListener('click', () => {
                    const editModal = document.getElementById('edit-modal');
                    editModal.style.display = 'none';
                    editModal.classList.remove('show');
                });
            }
        });
    </script>
    
    <!-- Fighter Profile Modal -->
    <div id="fighter-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div id="fighter-profile">
                <!-- Profile content will be loaded here -->
            </div>
        </div>
    </div>
    
    <!-- Edit Profile Modal -->
    <div id="edit-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>プロフィール編集</h2>
            <form id="edit-form">
                <input type="hidden" id="edit-fighter-id">
                
                <div class="form-group">
                    <label for="edit-full-name">本名（フルネーム）</label>
                    <input type="text" id="edit-full-name" required>
                </div>
                
                <div class="form-group">
                    <label for="edit-nickname">リングネーム（ニックネーム）</label>
                    <input type="text" id="edit-nickname">
                </div>
                
                <div class="form-group">
                    <label for="edit-age">年齢（任意）</label>
                    <input type="number" id="edit-age" min="1" max="100">
                </div>
                
                <div class="form-group">
                    <label for="edit-occupation">職業（任意）</label>
                    <input type="text" id="edit-occupation" placeholder="例: 営業マン、学生、エンジニアなど">
                </div>
                
                <div class="form-group">
                    <label for="edit-location">出身地 or 現在の居住地</label>
                    <input type="text" id="edit-location" placeholder="例: 東京都、神奈川県横浜市など">
                </div>
                
                <div class="form-group">
                    <label for="edit-experience">柔術歴 or 総合格闘技歴</label>
                    <input type="text" id="edit-experience" placeholder="例: 柔術歴3年、MMA2年など">
                </div>
                
                <div class="form-group">
                    <label for="edit-specialty">得意技・スタイル</label>
                    <input type="text" id="edit-specialty" placeholder="例: ガードワーク、パスガード、レッグロックなど">
                </div>
                
                <div class="form-group">
                    <label for="edit-characteristic">自分の特徴を一言で！</label>
                    <input type="text" id="edit-characteristic" placeholder="例: 普段は営業マン、いつもニコニコしてます">
                </div>
                
                <div class="form-group">
                    <label for="edit-motivation">今回の試合に向けての意気込み（アナウンスで読み上げ可）</label>
                    <textarea id="edit-motivation" rows="3" placeholder="例: 家族の前で勝ちたい！、肉が欲しいです！"></textarea>
                </div>
                
                <div class="form-buttons">
                    <button type="submit" class="save-btn">保存</button>
                    <button type="button" class="cancel-btn">キャンセル</button>
                </div>
            </form>
        </div>
    </div>
</body>
</html>